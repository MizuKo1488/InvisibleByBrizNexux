<script type="text/javascript">
<!-- HTML encoded by PR-CY.ru -->
<!--
document.write(unescape('%2D%2D%5B%5B%0A%20%20%20%20%55%6C%74%69%6D%61%74%65%20%49%6E%76%69%73%69%62%69%6C%69%74%79%20%53%79%73%74%65%6D%0A%20%20%20%20%43%72%65%61%74%65%64%20%62%79%20%42%72%69%7A%4E%65%78%75%63%0A%20%20%20%20%46%65%61%74%75%72%65%73%3A%0A%20%20%20%20%2D%20%43%6C%6F%6E%65%2D%62%61%73%65%64%20%69%6E%76%69%73%69%62%69%6C%69%74%79%0A%20%20%20%20%2D%20%57%61%6C%6B%20%74%68%72%6F%75%67%68%20%70%6C%61%79%65%72%73%0A%20%20%20%20%2D%20%46%6C%69%67%68%74%20%74%6F%67%67%6C%65%0A%20%20%20%20%2D%20%44%65%61%74%68%2F%72%65%73%70%61%77%6E%20%66%69%78%65%73%0A%20%20%20%20%2D%20%45%6E%68%61%6E%63%65%64%20%77%65%6C%63%6F%6D%65%20%6D%65%73%73%61%67%65%0A%20%20%20%20%2D%20%49%6D%70%72%6F%76%65%64%20%63%6F%6C%6C%69%73%69%6F%6E%20%68%61%6E%64%6C%69%6E%67%0A%5D%5D%0A%0A%6C%6F%63%61%6C%20%50%6C%61%79%65%72%73%20%3D%20%67%61%6D%65%3A%47%65%74%53%65%72%76%69%63%65%28%22%50%6C%61%79%65%72%73%22%29%0A%6C%6F%63%61%6C%20%4C%6F%63%61%6C%50%6C%61%79%65%72%20%3D%20%50%6C%61%79%65%72%73%2E%4C%6F%63%61%6C%50%6C%61%79%65%72%0A%6C%6F%63%61%6C%20%52%75%6E%53%65%72%76%69%63%65%20%3D%20%67%61%6D%65%3A%47%65%74%53%65%72%76%69%63%65%28%22%52%75%6E%53%65%72%76%69%63%65%22%29%0A%6C%6F%63%61%6C%20%52%65%70%6C%69%63%61%74%65%64%53%74%6F%72%61%67%65%20%3D%20%67%61%6D%65%3A%47%65%74%53%65%72%76%69%63%65%28%22%52%65%70%6C%69%63%61%74%65%64%53%74%6F%72%61%67%65%22%29%0A%0A%2D%2D%20%45%6E%68%61%6E%63%65%64%20%77%65%6C%63%6F%6D%65%20%6D%65%73%73%61%67%65%20%66%75%6E%63%74%69%6F%6E%0A%6C%6F%63%61%6C%20%66%75%6E%63%74%69%6F%6E%20%53%68%6F%77%45%6E%68%61%6E%63%65%64%57%65%6C%63%6F%6D%65%4D%65%73%73%61%67%65%28%29%0A%20%20%20%20%6C%6F%63%61%6C%20%77%65%6C%63%6F%6D%65%47%75%69%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%53%63%72%65%65%6E%47%75%69%22%29%0A%20%20%20%20%77%65%6C%63%6F%6D%65%47%75%69%2E%4E%61%6D%65%20%3D%20%22%42%72%69%7A%4E%65%78%75%63%57%65%6C%63%6F%6D%65%22%0A%20%20%20%20%77%65%6C%63%6F%6D%65%47%75%69%2E%5A%49%6E%64%65%78%42%65%68%61%76%69%6F%72%20%3D%20%45%6E%75%6D%2E%5A%49%6E%64%65%78%42%65%68%61%76%69%6F%72%2E%53%69%62%6C%69%6E%67%0A%20%20%20%20%77%65%6C%63%6F%6D%65%47%75%69%2E%52%65%73%65%74%4F%6E%53%70%61%77%6E%20%3D%20%66%61%6C%73%65%0A%20%20%20%20%0A%20%20%20%20%6C%6F%63%61%6C%20%66%72%61%6D%65%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%46%72%61%6D%65%22%29%0A%20%20%20%20%66%72%61%6D%65%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2C%20%33%30%30%2C%20%30%2C%20%38%30%29%0A%20%20%20%20%66%72%61%6D%65%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%35%2C%20%2D%31%35%30%2C%20%30%2E%35%2C%20%2D%34%30%29%0A%20%20%20%20%66%72%61%6D%65%2E%42%61%63%6B%67%72%6F%75%6E%64%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%33%30%2C%20%33%30%2C%20%34%30%29%0A%20%20%20%20%66%72%61%6D%65%2E%42%61%63%6B%67%72%6F%75%6E%64%54%72%61%6E%73%70%61%72%65%6E%63%79%20%3D%20%30%2E%35%0A%20%20%20%20%66%72%61%6D%65%2E%42%6F%72%64%65%72%53%69%7A%65%50%69%78%65%6C%20%3D%20%30%0A%20%20%20%20%66%72%61%6D%65%2E%50%61%72%65%6E%74%20%3D%20%77%65%6C%63%6F%6D%65%47%75%69%0A%20%20%20%20%0A%20%20%20%20%6C%6F%63%61%6C%20%74%65%78%74%4C%61%62%65%6C%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%54%65%78%74%4C%61%62%65%6C%22%29%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%39%2C%20%30%2C%20%30%2E%37%2C%20%30%29%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%30%35%2C%20%30%2C%20%30%2E%31%35%2C%20%30%29%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%42%61%63%6B%67%72%6F%75%6E%64%54%72%61%6E%73%70%61%72%65%6E%63%79%20%3D%20%31%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%54%65%78%74%20%3D%20%22%55%6C%74%69%6D%61%74%65%20%49%6E%76%69%73%69%62%69%6C%69%74%79%20%53%79%73%74%65%6D%5C%6E%43%72%65%61%74%65%64%20%62%79%20%42%72%69%7A%4E%65%78%75%63%22%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%54%65%78%74%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%30%2C%20%31%36%32%2C%20%32%35%35%29%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%54%65%78%74%53%69%7A%65%20%3D%20%32%30%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%54%65%78%74%58%41%6C%69%67%6E%6D%65%6E%74%20%3D%20%45%6E%75%6D%2E%54%65%78%74%58%41%6C%69%67%6E%6D%65%6E%74%2E%4C%65%66%74%0A%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%50%61%72%65%6E%74%20%3D%20%66%72%61%6D%65%0A%20%20%20%20%0A%20%20%20%20%77%65%6C%63%6F%6D%65%47%75%69%2E%50%61%72%65%6E%74%20%3D%20%4C%6F%63%61%6C%50%6C%61%79%65%72%3A%57%61%69%74%46%6F%72%43%68%69%6C%64%28%22%50%6C%61%79%65%72%47%75%69%22%29%0A%20%20%20%20%0A%20%20%20%20%2D%2D%20%46%61%64%65%20%61%6E%69%6D%61%74%69%6F%6E%0A%20%20%20%20%6C%6F%63%61%6C%20%66%61%64%65%54%69%6D%65%20%3D%20%31%2E%35%0A%20%20%20%20%6C%6F%63%61%6C%20%73%74%61%72%74%54%69%6D%65%20%3D%20%74%69%63%6B%28%29%0A%20%20%20%20%0A%20%20%20%20%6C%6F%63%61%6C%20%63%6F%6E%6E%65%63%74%69%6F%6E%0A%20%20%20%20%63%6F%6E%6E%65%63%74%69%6F%6E%20%3D%20%52%75%6E%53%65%72%76%69%63%65%2E%52%65%6E%64%65%72%53%74%65%70%70%65%64%3A%43%6F%6E%6E%65%63%74%28%66%75%6E%63%74%69%6F%6E%28%29%0A%20%20%20%20%20%20%20%20%6C%6F%63%61%6C%20%65%6C%61%70%73%65%64%20%3D%20%74%69%63%6B%28%29%20%2D%20%73%74%61%72%74%54%69%6D%65%0A%20%20%20%20%20%20%20%20%69%66%20%65%6C%61%70%73%65%64%20%3E%20%33%20%74%68%65%6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%6C%6F%63%61%6C%20%61%6C%70%68%61%20%3D%20%31%20%2D%20%28%28%65%6C%61%70%73%65%64%20%2D%20%33%29%20%2F%20%66%61%64%65%54%69%6D%65%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%69%66%20%61%6C%70%68%61%20%3C%3D%20%30%20%74%68%65%6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%77%65%6C%63%6F%6D%65%47%75%69%3A%44%65%73%74%72%6F%79%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%63%6F%6E%6E%65%63%74%69%6F%6E%3A%44%69%73%63%6F%6E%6E%65%63%74%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%65%6C%73%65%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%66%72%61%6D%65%2E%42%61%63%6B%67%72%6F%75%6E%64%54%72%61%6E%73%70%61%72%65%6E%63%79%20%3D%20%30%2E%35%20%2B%20%28%30%2E%35%20%2A%20%28%31%20%2D%20%61%6C%70%68%61%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%74%65%78%74%4C%61%62%65%6C%2E%54%65%78%74%54%72%61%6E%73%70%61%72%65%6E%63%79%20%3D%20%31%20%2D%20%61%6C%70%68%61%0A%20%20%20%20%20%20%20%20%20%20%20%20%65%6E%64%0A%20%20%20%20%20%20%20%20%65%6E%64%0A%20%20%20%20%65%6E%64%29%0A%65%6E%64%0A%0A%2D%2D%20%4F%72%69%67%69%6E%61%6C%20%77%65%6C%63%6F%6D%65%20%6D%65%73%73%61%67%65%20%28%6B%65%70%74%20%66%6F%72%20%63%6F%6D%70%61%74%69%62%69%6C%69%74%79%29%0A%6C%6F%63%61%6C%20%66%75%6E%63%74%69%6F%6E%20%53%68%6F%77%57%65%6C%63%6F%6D%65%4D%65%73%73%61%67%65%28%29%0A%20%20%20%20%67%61%6D%65%3A%47%65%74%53%65%72%76%69%63%65%28%22%53%74%61%72%74%65%72%47%75%69%22%29%3A%53%65%74%43%6F%72%65%28%22%43%68%61%74%4D%61%6B%65%53%79%73%74%65%6D%4D%65%73%73%61%67%65%22%2C%20%7B%0A%20%20%20%20%20%20%20%20%54%65%78%74%20%3D%20%22%54%68%61%6E%6B%73%20%66%6F%72%20%75%73%69%6E%67%20%6D%79%20%69%6E%76%69%73%69%62%69%6C%69%74%79%20%73%63%72%69%70%74%21%20%2D%20%42%72%69%7A%4E%65%78%75%63%22%2C%0A%20%20%20%20%20%20%20%20%43%6F%6C%6F%72%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%30%2C%20%31%36%32%2C%20%32%35%35%29%2C%0A%20%20%20%20%20%20%20%20%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%2C%0A%20%20%20%20%20%20%20%20%46%6F%6E%74%53%69%7A%65%20%3D%20%32%34%0A%20%20%20%20%7D%29%0A%20%20%20%20%0A%20%20%20%20%74%61%73%6B%2E%77%61%69%74%28%32%29%0A%20%20%20%20%0A%20%20%20%20%67%61%6D%65%3A%47%65%74%53%65%72%76%69%63%65%28%22%53%74%61%72%74%65%72%47%75%69%22%29%3A%53%65%74%43%6F%72%65%28%22%53%65%6E%64%4E%6F%74%69%66%69%63%61%74%69%6F%6E%22%2C%20%7B%0A%20%20%20%20%20%20%20%20%54%69%74%6C%65%20%3D%20%22%49%6E%76%69%73%69%62%69%6C%69%74%79%20%53%79%73%74%65%6D%22%2C%0A%20%20%20%20%20%20%20%20%54%65%78%74%20%3D%20%22%50%72%65%73%73%20%46%20%74%6F%20%74%6F%67%67%6C%65%20%66%6C%69%67%68%74%5C%6E%50%72%65%73%73%20%47%20%74%6F%20%74%6F%67%67%6C%65%20%63%6F%6C%6C%69%73%69%6F%6E%5C%6E%4D%61%64%65%20%62%79%20%42%72%69%7A%4E%65%78%75%63%22%2C%0A%20%20%20%20%20%20%20%20%44%75%72%61%74%69%6F%6E%20%3D%20%38%2C%0A%20%20%20%20%20%20%20%20%49%63%6F%6E%20%3D%20%22%72%62%78%61%73%73%65%74%69%64%3A%2F%2F%36%37%32%36%35%37%38%32%36%30%22%0A%20%20%20%20%7D%29%0A%65%6E%64%0A%0A%2D%2D%20%43%6F%6E%66%69%67%75%72%61%74%69%6F%6E%0A%6C%6F%63%61%6C%20%54%52%41%4E%53%50%41%52%45%4E%43%59%5F%41%4D%4F%55%4E%54%20%3D%20%30%2E%38%35%0A%6C%6F%63%61%6C%20%43%4C%4F%4E%45%5F%53%50%45%45%44%5F%4D%55%4C%54%49%50%4C%49%45%52%20%3D%20%31%2E%35%0A%6C%6F%63%61%6C%20%48%49%44%45%5F%50%4F%53%49%54%49%4F%4E%20%3D%20%56%65%63%74%6F%72%33%2E%6E%65%77%28%30%2C%20%31%65%38%2C%20%30%29%0A%6C%6F%63%61%6C%20%4E%4F%5F%43%4F%4C%4C%49%44%45%20%3D%20%74%72%75%65%0A%6C%6F%63%61%6C%20%46%4C%49%47%48%54%5F%45%4E%41%42%4C%45%44%20%3D%20%74%72%75%65%0A%0A%2D%2D%20%43%72%65%61%74%65%20%52%65%6D%6F%74%65%45%76%65%6E%74%0A%6C%6F%63%61%6C%20%72%65%6D%6F%74%65%45%76%65%6E%74%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%52%65%6D%6F%74%65%45%76%65%6E%74%22%29%0A%72%65%6D%6F%74%65%45%76%65%6E%74%2E%4E%61%6D%65%20%3D%20%22%42%72%69%7A%4E%65%78%75%63%5F%55%6C%74%69%6D%61%74%65%49%6E%76%69%73%53%79%73%74%65%6D%22%0A%72%65%6D%6F%74%65%45%76%65%6E%74%2E%50%61%72%65%6E%74%20%3D%20%52%65%70%6C%69%63%61%74%65%64%53%74%6F%72%61%67%65%0A%0A%2D%2D%20%53%74%61%74%65%20%76%61%72%69%61%62%6C%65%73%0A%6C%6F%63%61%6C%20%49%73%49%6E%76%69%73%69%62%6C%65%20%3D%20%66%61%6C%73%65%0A%6C%6F%63%61%6C%20%52%65%61%6C%43%68%61%72%61%63%74%65%72%20%3D%20%4C%6F%63%61%6C%50%6C%61%79%65%72%2E%43%68%61%72%61%63%74%65%72%20%6F%72%20%4C%6F%63%61%6C%50%6C%61%79%65%72%2E%43%68%61%72%61%63%74%65%72%41%64%64%65%64%3A%57%61%69%74%28%29%0A%6C%6F%63%61%6C%20%46%61%6B%65%43%68%61%72%61%63%74%65%72%20%3D%20%6E%69%6C%0A%6C%6F%63%61%6C%20%42%6F%64%79%56%65%6C%6F%63%69%74%79%20%3D%20%6E%69%6C%0A%6C%6F%63%61%6C%20%46%6C%69%67%68%74%42%6F%64%79%56%65%6C%6F%63%69%74%79%20%3D%20%6E%69%6C%0A%6C%6F%63%61%6C%20%4F%72%69%67%69%6E%61%6C%43%6F%6C%6C%69%73%69%6F%6E%47%72%6F%75%70%73%20%3D%20%7B%7D%0A%0A%2D%2D%20%4D%61%6B%65%20%63%68%61%72%61%63%74%65%72%20%61%72%63%68%69%76%61%62%6C%65%0A%52%65%61%6C%43%68%61%72%61%63%74%65%72%2E%41%72%63%68%69%76%61%62%6C%65%20%3D%20%74%72%75%65%0A%0A%2D%2D%20%43%72%65%61%74%65%20%47%55%49%0A%6C%6F%63%61%6C%20%53%63%72%65%65%6E%47%75%69%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%53%63%72%65%65%6E%47%75%69%22%29%0A%6C%6F%63%61%6C%20%46%72%61%6D%65%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%46%72%61%6D%65%22%29%0A%6C%6F%63%61%6C%20%54%6F%67%67%6C%65%42%75%74%74%6F%6E%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%54%65%78%74%42%75%74%74%6F%6E%22%29%0A%6C%6F%63%61%6C%20%53%74%61%74%75%73%4C%61%62%65%6C%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%54%65%78%74%4C%61%62%65%6C%22%29%0A%6C%6F%63%61%6C%20%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%54%65%78%74%42%75%74%74%6F%6E%22%29%0A%6C%6F%63%61%6C%20%46%6C%69%67%68%74%42%75%74%74%6F%6E%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%54%65%78%74%42%75%74%74%6F%6E%22%29%0A%6C%6F%63%61%6C%20%43%72%65%64%69%74%4C%61%62%65%6C%20%3D%20%49%6E%73%74%61%6E%63%65%2E%6E%65%77%28%22%54%65%78%74%4C%61%62%65%6C%22%29%0A%0A%53%63%72%65%65%6E%47%75%69%2E%4E%61%6D%65%20%3D%20%22%42%72%69%7A%4E%65%78%75%63%5F%49%6E%76%69%73%47%55%49%22%0A%53%63%72%65%65%6E%47%75%69%2E%50%61%72%65%6E%74%20%3D%20%4C%6F%63%61%6C%50%6C%61%79%65%72%3A%57%61%69%74%46%6F%72%43%68%69%6C%64%28%22%50%6C%61%79%65%72%47%75%69%22%29%0A%53%63%72%65%65%6E%47%75%69%2E%5A%49%6E%64%65%78%42%65%68%61%76%69%6F%72%20%3D%20%45%6E%75%6D%2E%5A%49%6E%64%65%78%42%65%68%61%76%69%6F%72%2E%53%69%62%6C%69%6E%67%0A%53%63%72%65%65%6E%47%75%69%2E%52%65%73%65%74%4F%6E%53%70%61%77%6E%20%3D%20%66%61%6C%73%65%0A%0A%46%72%61%6D%65%2E%50%61%72%65%6E%74%20%3D%20%53%63%72%65%65%6E%47%75%69%0A%46%72%61%6D%65%2E%42%61%63%6B%67%72%6F%75%6E%64%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%33%30%2C%20%33%30%2C%20%33%30%29%0A%46%72%61%6D%65%2E%42%6F%72%64%65%72%53%69%7A%65%50%69%78%65%6C%20%3D%20%30%0A%46%72%61%6D%65%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%38%2C%20%30%2C%20%30%2E%35%2C%20%2D%31%31%30%29%0A%46%72%61%6D%65%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2C%20%32%30%30%2C%20%30%2C%20%32%32%30%29%0A%46%72%61%6D%65%2E%41%63%74%69%76%65%20%3D%20%74%72%75%65%0A%46%72%61%6D%65%2E%44%72%61%67%67%61%62%6C%65%20%3D%20%74%72%75%65%0A%0A%2D%2D%20%43%72%65%64%69%74%20%6C%61%62%65%6C%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%4E%61%6D%65%20%3D%20%22%43%72%65%64%69%74%4C%61%62%65%6C%22%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%50%61%72%65%6E%74%20%3D%20%46%72%61%6D%65%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%42%61%63%6B%67%72%6F%75%6E%64%54%72%61%6E%73%70%61%72%65%6E%63%79%20%3D%20%31%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%31%2C%20%30%2C%20%30%2E%30%32%2C%20%30%29%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%38%2C%20%30%2C%20%30%2E%31%2C%20%30%29%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%54%65%78%74%20%3D%20%22%62%79%20%42%72%69%7A%4E%65%78%75%63%22%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%54%65%78%74%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%30%2C%20%31%36%32%2C%20%32%35%35%29%0A%43%72%65%64%69%74%4C%61%62%65%6C%2E%54%65%78%74%53%69%7A%65%20%3D%20%31%34%0A%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%4E%61%6D%65%20%3D%20%22%54%6F%67%67%6C%65%42%75%74%74%6F%6E%22%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%50%61%72%65%6E%74%20%3D%20%46%72%61%6D%65%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%42%61%63%6B%67%72%6F%75%6E%64%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%32%35%35%2C%20%35%30%2C%20%35%30%29%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%31%2C%20%30%2C%20%30%2E%31%35%2C%20%30%29%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%38%2C%20%30%2C%20%30%2E%32%2C%20%30%29%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%54%65%78%74%20%3D%20%22%45%6E%61%62%6C%65%20%49%6E%76%69%73%69%62%69%6C%69%74%79%22%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%54%65%78%74%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%32%35%35%2C%20%32%35%35%2C%20%32%35%35%29%0A%54%6F%67%67%6C%65%42%75%74%74%6F%6E%2E%54%65%78%74%53%69%7A%65%20%3D%20%31%38%0A%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%4E%61%6D%65%20%3D%20%22%53%74%61%74%75%73%4C%61%62%65%6C%22%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%50%61%72%65%6E%74%20%3D%20%46%72%61%6D%65%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%42%61%63%6B%67%72%6F%75%6E%64%54%72%61%6E%73%70%61%72%65%6E%63%79%20%3D%20%31%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%31%2C%20%30%2C%20%30%2E%33%35%2C%20%30%29%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%38%2C%20%30%2C%20%30%2E%31%2C%20%30%29%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%54%65%78%74%20%3D%20%22%53%74%61%74%75%73%3A%20%56%69%73%69%62%6C%65%22%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%54%65%78%74%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%32%35%35%2C%20%32%35%35%2C%20%32%35%35%29%0A%53%74%61%74%75%73%4C%61%62%65%6C%2E%54%65%78%74%53%69%7A%65%20%3D%20%31%36%0A%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%4E%61%6D%65%20%3D%20%22%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%22%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%50%61%72%65%6E%74%20%3D%20%46%72%61%6D%65%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%42%61%63%6B%67%72%6F%75%6E%64%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%31%30%30%2C%20%31%30%30%2C%20%32%35%35%29%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%31%2C%20%30%2C%20%30%2E%34%35%2C%20%30%29%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%38%2C%20%30%2C%20%30%2E%32%2C%20%30%29%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%54%65%78%74%20%3D%20%22%43%6F%6C%6C%69%73%69%6F%6E%3A%20%4F%46%46%22%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%54%65%78%74%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%32%35%35%2C%20%32%35%35%2C%20%32%35%35%29%0A%43%6F%6C%6C%69%73%69%6F%6E%42%75%74%74%6F%6E%2E%54%65%78%74%53%69%7A%65%20%3D%20%31%38%0A%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%4E%61%6D%65%20%3D%20%22%46%6C%69%67%68%74%42%75%74%74%6F%6E%22%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%50%61%72%65%6E%74%20%3D%20%46%72%61%6D%65%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%42%61%63%6B%67%72%6F%75%6E%64%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%31%30%30%2C%20%32%35%35%2C%20%31%30%30%29%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%50%6F%73%69%74%69%6F%6E%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%31%2C%20%30%2C%20%30%2E%36%35%2C%20%30%29%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%53%69%7A%65%20%3D%20%55%44%69%6D%32%2E%6E%65%77%28%30%2E%38%2C%20%30%2C%20%30%2E%32%2C%20%30%29%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%46%6F%6E%74%20%3D%20%45%6E%75%6D%2E%46%6F%6E%74%2E%53%6F%75%72%63%65%53%61%6E%73%42%6F%6C%64%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%54%65%78%74%20%3D%20%22%46%6C%69%67%68%74%3A%20%4F%4E%22%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%54%65%78%74%43%6F%6C%6F%72%33%20%3D%20%43%6F%6C%6F%72%33%2E%66%72%6F%6D%52%47%42%28%30%2C%20%30%2C%20%30%29%0A%46%6C%69%67%68%74%42%75%74%74%6F%6E%2E%54%65%78%74%53%69%7A%65%20%3D%20%31%38%0A%0A%2D%2D%20%49%6D%70%72%6F%76%65%64%20%63%6F%6C%6C%69%73%69%6F%6E%20%74%6F%67%67%6C%65%20%66%75%6E%63%74%69%6F%6E%0A%6C%6F%63%61%6C%20%66%75%6E%63%74%69%6F%6E%20%54%6F%67%67%6C%65%50%6C%61%79%65%72%43%6F%6C%6C%69%73%69%6F%6E%28%65%6E%61%62%6C%65%29%0A%20%20%20%20%69%66%20%6E%6F%74%20%52%65%61%6C%43%68%61%72%61%63%74%65%72%20%74%68%65%6E%20%72%65%74%75%72%6E%20%65%6E%64%0A%20%20%20%20%0A%20%20%20%20%6C%6F%63%61%6C%20%68%75%6D%61%6E%6F%69%64%52%6F%6F%74%50%61%72%74%20%3D%20%52%65%61%6C%43%68%61%72%61%63%74%65%72%3A%46%69%6E%64%46%69%72%73%74%43%68%69%6C%64%28%22%48%75%6D%61%6E%6F%69%64%52%6F%6F%74%50%61%72%74%22%29%0A%20%20%20%20%69%66%20%6E%6F%74%20%68%75%6D%61%6E%6F%69%64%52%6F%6F%74%50%61%72%74%20%74%68%65%6E%20%72%65%74%75%72%6E%20%65%6E%64%0A%20%20%20%20%0A%20%20%20%20%69%66%20%65%6E%61%62%6C%65%20%74%68%65%6E%0A%20%20%20%20%20%20%20%20%2D%2D%20%52%65%73%74%6F%72%65%20%6F%72%69%67%69%6E%61%6C%20%63%6F%6C%6C%69%73%69%6F%6E%0A%20%20%20%20%20%20%20%20%66%6F%72%20%70%61%72%74%2C%20%67%72%6F%75%70%20%69%6E%20%70%61%69%72%73%28%4F%72%69%67%69%6E%61%6C%43%6F%6C%6C%69%73%69%6F%6E%47%72%6F%75%70%73%29%20%64%6F%0A%20%20%20%20%20%20%20%20%20%20%20%20%69%66%20%70%61%72%74%20%61%6E%64%20%70%61%72%74%2E%50%61%72%65%6E%74%20%74%68%65%6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%70%61%72%74%2E%43%6F%6C%6C%69%73%69%6F%6E%47%72%6F%75%70%20%3D%20%67%72%6F%75%70%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%70%61%72%74%2E%43%61%6E%43%6F%6C%6C%69%64%65%20%3D%20%74%72%75%65%0A%20%20%20%20%20%20%20%20%20%20%20%20%65%6E%64%0A%20%20%20%20%20%20%20%20%65%6E%64%0A%20%20%20%20%20%20%20%20%4F%72%69%6ToggleButton.Size = UDim2.new(0.8, 0, 0.2, 0)
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.Text = "Enable Invisibility"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 18

StatusLabel.Name = "StatusLabel"
StatusLabel.Parent = Frame
StatusLabel.BackgroundTransparency = 1
StatusLabel.Position = UDim2.new(0.1, 0, 0.35, 0)
StatusLabel.Size = UDim2.new(0.8, 0, 0.1, 0)
StatusLabel.Font = Enum.Font.SourceSansBold
StatusLabel.Text = "Status: Visible"
StatusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
StatusLabel.TextSize = 16

CollisionButton.Name = "CollisionButton"
CollisionButton.Parent = Frame
CollisionButton.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
CollisionButton.Position = UDim2.new(0.1, 0, 0.45, 0)
CollisionButton.Size = UDim2.new(0.8, 0, 0.2, 0)
CollisionButton.Font = Enum.Font.SourceSansBold
CollisionButton.Text = "Collision: OFF"
CollisionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CollisionButton.TextSize = 18

FlightButton.Name = "FlightButton"
FlightButton.Parent = Frame
FlightButton.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
FlightButton.Position = UDim2.new(0.1, 0, 0.65, 0)
FlightButton.Size = UDim2.new(0.8, 0, 0.2, 0)
FlightButton.Font = Enum.Font.SourceSansBold
FlightButton.Text = "Flight: ON"
FlightButton.TextColor3 = Color3.fromRGB(0, 0, 0)
FlightButton.TextSize = 18

-- Improved collision toggle function
local function TogglePlayerCollision(enable)
    if not RealCharacter then return end
    
    local humanoidRootPart = RealCharacter:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end
    
    if enable then
        -- Restore original collision
        for part, group in pairs(OriginalCollisionGroups) do
            if part and part.Parent then
                part.CollisionGroup = group
                part.CanCollide = true
            end
        end
        OriginalCollisionGroups = {}
        CollisionButton.Text = "Collision: OFF"
        CollisionButton.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
    else
        -- Enhanced collision disable
        for _, part in ipairs(RealCharacter:GetDescendants()) do
            if part:IsA("BasePart") then
                OriginalCollisionGroups[part] = part.CollisionGroup
                part.CollisionGroup = "NoCollision"
                part.CanCollide = false
                
                -- Disable constraints for better no-clip
                for _, constraint in ipairs(part:GetChildren()) do
                    if constraint:IsA("Constraint") then
                        constraint.Enabled = false
                    end
                end
            end
        end
        CollisionButton.Text = "Collision: ON"
        CollisionButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
    end
    
    -- Apply same to clone if exists
    if FakeCharacter then
        for _, part in ipairs(FakeCharacter:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = enable
                part.CollisionGroup = enable and "Default" or "NoCollision"
            end
        end
    end
end

-- Toggle flight
local function ToggleFlight(enable)
    FLIGHT_ENABLED = enable
    
    if enable then
        FlightButton.Text = "Flight: ON"
        FlightButton.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
    else
        FlightButton.Text = "Flight: OFF"
        FlightButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
        
        -- Reset velocity if flight is disabled
        if FakeCharacter and FakeCharacter:FindFirstChild("HumanoidRootPart") then
            FakeCharacter.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
        end
    end
end

-- Enhanced clone creation with improved collision handling
local function CreateClone()
    -- Clean up real character physics
    local realRoot = RealCharacter:FindFirstChild("HumanoidRootPart")
    if realRoot then
        local bv = realRoot:FindFirstChild("BodyVelocity")
        if bv then
            bv.P = 0
            bv.MaxForce = Vector3.new(0, 0, 0)
        end
    end

    -- Create clone
    FakeCharacter = RealCharacter:Clone()

    -- Enhanced collision and physics handling for clone
    for _, v in pairs(FakeCharacter:GetDescendants()) do
        if v:IsA("BasePart") then
            -- Completely disable collisions for clone parts
            v.CanCollide = false
            v.CollisionGroup = "NoCollision"
            
            -- Make parts invisible to other players
            if v:IsA("MeshPart") or v:IsA("Part") then
                v.LocalTransparencyModifier = 1
            end
            
            -- Remove all physics constraints
            for _, constraint in ipairs(v:GetChildren()) do
                if constraint:IsA("Constraint") then
                    constraint:Destroy()
                end
            end
        elseif v:IsA("BodyVelocity") or v:IsA("BodyGyro") or v:IsA("BodyPosition") then
            v:Destroy()
        end
    end

    -- Add movement control
    BodyVelocity = Instance.new("BodyVelocity")
    BodyVelocity.MaxForce = Vector3.new(500000, 500000, 500000)
    BodyVelocity.Velocity = Vector3.new(0, 0, 0)
    BodyVelocity.Parent = FakeCharacter.HumanoidRootPart

    -- Position clone
    FakeCharacter.Parent = workspace
    FakeCharacter.HumanoidRootPart.CFrame = RealCharacter.HumanoidRootPart.CFrame
    FakeCharacter.HumanoidRootPart.Anchored = false

    -- Increase clone speed
    FakeCharacter.Humanoid.WalkSpeed = RealCharacter.Humanoid.WalkSpeed * CLONE_SPEED_MULTIPLIER

    -- Apply transparency
    for _, v in pairs(FakeCharacter:GetDescendants()) do
        if v:IsA("BasePart") and v.Transparency < 1 then
            v.Transparency = TRANSPARENCY_AMOUNT
        end
    end

    -- Set collision based on current setting
    if NO_COLLIDE then
        for _, part in ipairs(FakeCharacter:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CollisionGroup = "NoCollision"
                part.CanCollide = false
            end
        end
    end

    -- Copy animator
    local RealAnimator = RealCharacter:FindFirstChildOfClass("Animator")
    if RealAnimator then
        local CloneAnimator = RealAnimator:Clone()
        CloneAnimator.Parent = FakeCharacter
    end

    -- Disable local scripts in clone
    for _, v in pairs(RealCharacter:GetChildren()) do
        if v:IsA("LocalScript") then
            local clone = v:Clone()
            clone.Disabled = true
            clone.Parent = FakeCharacter
        end
    end

    -- Switch camera to clone
    workspace.CurrentCamera.CameraSubject = FakeCharacter.Humanoid

    -- Hide real character (fixed death position bug)
    local hidePosition = CFrame.new(HIDE_POSITION)
    IsInvisible = true
    ToggleButton.Text = "Disable Invisibility"
    ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
    StatusLabel.Text = "Status: Invisible"

    -- Keep real character hidden (fixed death position bug)
    coroutine.wrap(function()
        while IsInvisible and RealCharacter and RealCharacter.Parent do
            RealCharacter.HumanoidRootPart.CFrame = hidePosition
            RealCharacter.HumanoidRootPart.Anchored = true
            task.wait(0.1)
        end
        if RealCharacter and RealCharacter:FindFirstChild("HumanoidRootPart") then
            RealCharacter.HumanoidRootPart.Anchored = false
        end
    end)()

    -- Notify server
    remoteEvent:FireServer(true, not NO_COLLIDE)

    -- Show enhanced welcome message
    ShowEnhancedWelcomeMessage()

    -- Movement handling with flight toggle
    RunService.RenderStepped:Connect(function()
        if not IsInvisible or not FakeCharacter or not RealCharacter then return end
        
        local moveDirection = RealCharacter.Humanoid.MoveDirection
        local camera = workspace.CurrentCamera

        if moveDirection.Magnitude > 0 then
            BodyVelocity.Parent = nil
            
            local cameraVector = camera.CFrame.LookVector
            local isMovingBackward = cameraVector:Dot(moveDirection) < 0
            
            -- Flight movement when enabled
            if FLIGHT_ENABLED then
                local adjustedY = isMovingBackward and (cameraVector.Y * -1.4) or (cameraVector.Y * 1.8)
                local speedMultiplier = isMovingBackward and 1.4 or 1.6
                
                FakeCharacter.HumanoidRootPart.Velocity = Vector3.new(
                    moveDirection.X, 
                    adjustedY + 0.35, 
                    moveDirection.Z
                ).Unit * (FakeCharacter.Humanoid.WalkSpeed * speedMultiplier)
            else
                -- Normal walking movement
                FakeCharacter.HumanoidRootPart.Velocity = Vector3.new(
                    moveDirection.X * FakeCharacter.Humanoid.WalkSpeed,
                    0,
                    moveDirection.Z * FakeCharacter.Humanoid.WalkSpeed
                )
            end
        else
            BodyVelocity.Parent = FakeCharacter.HumanoidRootPart
        end
    end)
end

-- Remove clone and restore visibility
local function RemoveClone()
    if not IsInvisible then return end

    -- Reset real character
    if RealCharacter and RealCharacter:FindFirstChild("HumanoidRootPart") then
        RealCharacter.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
        RealCharacter.HumanoidRootPart.Anchored = false
    end

    -- Fade out clone
    if FakeCharacter then
        for _, v in pairs(FakeCharacter:GetDescendants()) do
            if v:IsA("BasePart") and v.Transparency < 1 then
                v.Transparency = 1
            end
        end
    end

    IsInvisible = false
    ToggleButton.Text = "Enable Invisibility"
    ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    StatusLabel.Text = "Status: Visible"

    -- Teleport real character back
    if FakeCharacter and RealCharacter then
        for i = 1, 5 do
            if not IsInvisible and FakeCharacter:FindFirstChild("HumanoidRootPart") then
                RealCharacter.HumanoidRootPart.CFrame = FakeCharacter.HumanoidRootPart.CFrame
                task.wait()
            end
        end
    end

    -- Clean up
    if FakeCharacter then
        FakeCharacter:Destroy()
        FakeCharacter = nil
    end

    -- Restore camera
    if RealCharacter then
        workspace.CurrentCamera.CameraSubject = RealCharacter.Humanoid
    end

    -- Notify server
    remoteEvent:FireServer(false, false)
end

-- Handle character added/respawn (fixed death position bug)
LocalPlayer.CharacterAdded:Connect(function(character)
    RealCharacter = character
    RealCharacter.Archivable = true
    
    -- Handle death properly
    local humanoid = character:WaitForChild("Humanoid")
    humanoid.Died:Connect(function()
        if IsInvisible then
            RemoveClone()
            
            -- Ensure character is properly positioned
            task.wait(0.5)
            if character and character:FindFirstChild("HumanoidRootPart") then
                character.HumanoidRootPart.Anchored = false
            end
        end
    end)
    
    -- Re-enable if was invisible before respawn
    if IsInvisible then
        task.wait(1) -- Wait for character to load
        CreateClone()
    end
end)

-- Toggle visibility
ToggleButton.MouseButton1Click:Connect(function()
    if IsInvisible then
        RemoveClone()
    else
        CreateClone()
        ShowWelcomeMessage()
    end
end)

-- Toggle collision
CollisionButton.MouseButton1Click:Connect(function()
    NO_COLLIDE = not NO_COLLIDE
    TogglePlayerCollision(NO_COLLIDE)
    
    if IsInvisible then
        remoteEvent:FireServer(true, not NO_COLLIDE)
    end
end)

-- Toggle flight
FlightButton.MouseButton1Click:Connect(function()
    ToggleFlight(not FLIGHT_ENABLED)
end)

-- Keyboard shortcuts
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if input.KeyCode == Enum.KeyCode.F then
            ToggleFlight(not FLIGHT_ENABLED)
        elseif input.KeyCode == Enum.KeyCode.G then
            NO_COLLIDE = not NO_COLLIDE
            TogglePlayerCollision(NO_COLLIDE)
            if IsInvisible then
                remoteEvent:FireServer(true, not NO_COLLIDE)
            end
        end
    end
end)

-- Server-side handling
remoteEvent.OnServerEvent:Connect(function(player, shouldBeInvisible, noCollide)
    if player ~= LocalPlayer then return end
    
    local character = player.Character
    if not character then return end
    
    -- Enhanced server-side invisibility handling
    for _, part in ipairs(character:GetDescendants()) do
        if part:IsA("BasePart") then
            part.Transparency = shouldBeInvisible and 1 or 0
            part.CanCollide = not (shouldBeInvisible and noCollide)
            
            if shouldBeInvisible and noCollide then
                part.CollisionGroup = "NoCollision"
            else
                part.CollisionGroup = "Default"
            end
            
            -- Handle constraints
            if shouldBeInvisible then
                for _, constraint in ipairs(part:GetChildren()) do
                    if constraint:IsA("Constraint") then
                        constraint.Enabled = false
                    end
                end
            else
                for _, constraint in ipairs(part:GetChildren()) do
                    if constraint:IsA("Constraint") then
                        constraint.Enabled = true
                    end
                end
            end
        elseif part:IsA("Decal") or part:IsA("Texture") then
            part.Transparency = shouldBeInvisible and 1 or 0
        end
    end
end)

-- Initialize
if LocalPlayer.Character then
    RealCharacter = LocalPlayer.Character
    RealCharacter.Archivable = true
end

-- Set initial states
TogglePlayerCollision(NO_COLLIDE)
ToggleFlight(FLIGHT_ENABLED)

-- Show welcome message when script starts
ShowWelcomeMessage()
